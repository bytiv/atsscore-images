<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 900" font-family="'Segoe UI', 'Helvetica Neue', Arial, sans-serif">
  <defs>
    <!-- Gradients -->
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0c1222"/>
      <stop offset="100%" style="stop-color:#1a2744"/>
    </linearGradient>
    
    <linearGradient id="userGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6"/>
      <stop offset="100%" style="stop-color:#6d28d9"/>
    </linearGradient>
    
    <linearGradient id="frontendGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0ea5e9"/>
      <stop offset="100%" style="stop-color:#0369a1"/>
    </linearGradient>
    
    <linearGradient id="supabaseGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3ecf8e"/>
      <stop offset="100%" style="stop-color:#1a9f60"/>
    </linearGradient>
    
    <linearGradient id="emailGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#d97706"/>
    </linearGradient>
    
    <linearGradient id="dbGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#06b6d4"/>
      <stop offset="100%" style="stop-color:#0891b2"/>
    </linearGradient>
    
    <linearGradient id="stepGrad1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#7c3aed"/>
      <stop offset="100%" style="stop-color:#a855f7"/>
    </linearGradient>
    
    <linearGradient id="stepGrad2" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#2563eb"/>
      <stop offset="100%" style="stop-color:#3b82f6"/>
    </linearGradient>
    
    <linearGradient id="stepGrad3" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#059669"/>
      <stop offset="100%" style="stop-color:#10b981"/>
    </linearGradient>
    
    <linearGradient id="stepGrad4" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#dc2626"/>
      <stop offset="100%" style="stop-color:#ef4444"/>
    </linearGradient>
    
    <!-- Arrow markers -->
    <marker id="arrowRight" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
      <path d="M0,0 L0,12 L12,6 z" fill="#60a5fa"/>
    </marker>
    
    <marker id="arrowLeft" markerWidth="12" markerHeight="12" refX="2" refY="6" orient="auto">
      <path d="M12,0 L12,12 L0,6 z" fill="#4ade80"/>
    </marker>
    
    <marker id="arrowDown" markerWidth="12" markerHeight="12" refX="6" refY="10" orient="auto">
      <path d="M0,0 L12,0 L6,12 z" fill="#fbbf24"/>
    </marker>
    
    <marker id="arrowUp" markerWidth="12" markerHeight="12" refX="6" refY="2" orient="auto">
      <path d="M0,12 L12,12 L6,0 z" fill="#a78bfa"/>
    </marker>
    
    <!-- Drop shadow -->
    <filter id="dropShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="#000" flood-opacity="0.4"/>
    </filter>
    
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="900" fill="url(#bgGrad)"/>
  
  <!-- Subtle grid -->
  <defs>
    <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
      <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#ffffff" stroke-width="0.5" opacity="0.03"/>
    </pattern>
  </defs>
  <rect width="1400" height="900" fill="url(#grid)"/>
  
  <!-- Title -->
  <text x="700" y="45" text-anchor="middle" fill="#f8fafc" font-size="26" font-weight="700" letter-spacing="1">
    USER AUTHENTICATION FLOW
  </text>
  <text x="700" y="72" text-anchor="middle" fill="#94a3b8" font-size="13">
    Registration → Email Confirmation → Login → Session Management
  </text>
  
  <!-- ============ SWIMLANE HEADERS ============ -->
  <!-- User Lane -->
  <rect x="30" y="100" width="120" height="780" rx="10" fill="#1e1b4b" opacity="0.5"/>
  <rect x="30" y="100" width="120" height="50" rx="10" fill="url(#userGrad)"/>
  <circle cx="70" cy="125" r="12" fill="#fff" opacity="0.9"/>
  <path d="M70 138 C55 138 50 150 50 155 L90 155 C90 150 85 138 70 138" fill="#fff" opacity="0.9"/>
  <text x="110" y="130" fill="#fff" font-size="12" font-weight="600">USER</text>
  
  <!-- Frontend Lane -->
  <rect x="170" y="100" width="280" height="780" rx="10" fill="#0c2d4a" opacity="0.4"/>
  <rect x="170" y="100" width="280" height="50" rx="10" fill="url(#frontendGrad)"/>
  <text x="310" y="130" text-anchor="middle" fill="#fff" font-size="13" font-weight="600">FRONTEND (Next.js)</text>
  
  <!-- Supabase Auth Lane -->
  <rect x="470" y="100" width="280" height="780" rx="10" fill="#0a2e1f" opacity="0.4"/>
  <rect x="470" y="100" width="280" height="50" rx="10" fill="url(#supabaseGrad)"/>
  <text x="610" y="130" text-anchor="middle" fill="#fff" font-size="13" font-weight="600">SUPABASE AUTH</text>
  
  <!-- Email Service Lane -->
  <rect x="770" y="100" width="200" height="780" rx="10" fill="#2d1f0a" opacity="0.4"/>
  <rect x="770" y="100" width="200" height="50" rx="10" fill="url(#emailGrad)"/>
  <text x="870" y="130" text-anchor="middle" fill="#fff" font-size="13" font-weight="600">EMAIL SERVICE</text>
  
  <!-- Database Lane -->
  <rect x="990" y="100" width="180" height="780" rx="10" fill="#0a2d2d" opacity="0.4"/>
  <rect x="990" y="100" width="180" height="50" rx="10" fill="url(#dbGrad)"/>
  <text x="1080" y="130" text-anchor="middle" fill="#fff" font-size="13" font-weight="600">DATABASE</text>
  
  <!-- Phase indicators on left side -->
  <rect x="1200" y="170" width="180" height="180" rx="8" fill="url(#stepGrad1)" opacity="0.15" stroke="#a855f7" stroke-width="1"/>
  <text x="1290" y="195" text-anchor="middle" fill="#a855f7" font-size="11" font-weight="700">PHASE 1</text>
  <text x="1290" y="212" text-anchor="middle" fill="#c4b5fd" font-size="10">REGISTRATION</text>
  
  <rect x="1200" y="360" width="180" height="200" rx="8" fill="url(#stepGrad2)" opacity="0.15" stroke="#3b82f6" stroke-width="1"/>
  <text x="1290" y="385" text-anchor="middle" fill="#3b82f6" font-size="11" font-weight="700">PHASE 2</text>
  <text x="1290" y="402" text-anchor="middle" fill="#93c5fd" font-size="10">EMAIL CONFIRMATION</text>
  
  <rect x="1200" y="570" width="180" height="170" rx="8" fill="url(#stepGrad3)" opacity="0.15" stroke="#10b981" stroke-width="1"/>
  <text x="1290" y="595" text-anchor="middle" fill="#10b981" font-size="11" font-weight="700">PHASE 3</text>
  <text x="1290" y="612" text-anchor="middle" fill="#6ee7b7" font-size="10">LOGIN</text>
  
  <rect x="1200" y="750" width="180" height="120" rx="8" fill="url(#stepGrad4)" opacity="0.15" stroke="#ef4444" stroke-width="1"/>
  <text x="1290" y="775" text-anchor="middle" fill="#ef4444" font-size="11" font-weight="700">PHASE 4</text>
  <text x="1290" y="792" text-anchor="middle" fill="#fca5a5" font-size="10">SESSION MGMT</text>
  
  <!-- ============ PHASE 1: REGISTRATION ============ -->
  
  <!-- Step 1.1: User fills registration form -->
  <g transform="translate(40, 180)" filter="url(#dropShadow)">
    <circle cx="50" cy="25" r="20" fill="#7c3aed" stroke="#a78bfa" stroke-width="2"/>
    <text x="50" y="30" text-anchor="middle" fill="#fff" font-size="14" font-weight="700">1</text>
  </g>
  <text x="90" y="230" text-anchor="middle" fill="#c4b5fd" font-size="10">Fills Form</text>
  
  <!-- Registration Form Box -->
  <g transform="translate(200, 170)" filter="url(#dropShadow)">
    <rect x="0" y="0" width="220" height="100" rx="10" fill="#0f172a" stroke="#0ea5e9" stroke-width="2"/>
    <text x="110" y="25" text-anchor="middle" fill="#38bdf8" font-size="12" font-weight="600">Registration Form</text>
    <line x1="10" y1="35" x2="210" y2="35" stroke="#1e3a5f" stroke-width="1"/>
    <text x="20" y="52" fill="#94a3b8" font-size="9">• Email address</text>
    <text x="20" y="66" fill="#94a3b8" font-size="9">• Password (hashed)</text>
    <text x="20" y="80" fill="#94a3b8" font-size="9">• Account type (Jobseeker/HR)</text>
    <text x="20" y="94" fill="#94a3b8" font-size="9">• Profile details (name, company)</text>
  </g>
  
  <!-- Arrow: User to Form -->
  <path d="M130 205 L190 205" stroke="#60a5fa" stroke-width="2" fill="none" marker-end="url(#arrowRight)"/>
  
  <!-- Step 1.2: Submit to Supabase -->
  <path d="M420 220 L460 220" stroke="#60a5fa" stroke-width="2" fill="none" marker-end="url(#arrowRight)"/>
  <text x="440" y="210" fill="#60a5fa" font-size="8">signUp()</text>
  
  <!-- Supabase Auth Process -->
  <g transform="translate(500, 180)" filter="url(#dropShadow)">
    <rect x="0" y="0" width="220" height="80" rx="10" fill="#0f172a" stroke="#3ecf8e" stroke-width="2"/>
    <text x="110" y="25" text-anchor="middle" fill="#4ade80" font-size="12" font-weight="600">Create Auth User</text>
    <line x1="10" y1="35" x2="210" y2="35" stroke="#1a3d2e" stroke-width="1"/>
    <text x="20" y="52" fill="#94a3b8" font-size="9">• Validate email format</text>
    <text x="20" y="66" fill="#94a3b8" font-size="9">• Hash password (bcrypt)</text>
    <text x="20" y="80" fill="#94a3b8" font-size="9">• Generate confirmation token</text>
  </g>
  
  <!-- Arrow: Supabase to DB -->
  <path d="M720 220 L760 220 Q790 220 790 250 L790 280 Q790 310 820 310 L850 310 Q900 310 950 310 L980 310" stroke="#4ade80" stroke-width="2" fill="none" marker-end="url(#arrowRight)"/>
  <text x="860" y="300" fill="#4ade80" font-size="8">INSERT</text>
  
  <!-- Database: users table -->
  <g transform="translate(1000, 280)" filter="url(#dropShadow)">
    <rect x="0" y="0" width="150" height="60" rx="8" fill="#0f172a" stroke="#06b6d4" stroke-width="2"/>
    <text x="75" y="22" text-anchor="middle" fill="#22d3ee" font-size="11" font-weight="600">auth.users</text>
    <line x1="10" y1="32" x2="140" y2="32" stroke="#164e63" stroke-width="1"/>
    <text x="15" y="48" fill="#94a3b8" font-size="8">id, email, encrypted_pw</text>
  </g>
  
  <!-- ============ PHASE 2: EMAIL CONFIRMATION ============ -->
  
  <!-- Step 2.1: Trigger email -->
  <g transform="translate(560, 290)" filter="url(#dropShadow)">
    <circle cx="25" cy="25" r="18" fill="#2563eb" stroke="#60a5fa" stroke-width="2"/>
    <text x="25" y="30" text-anchor="middle" fill="#fff" font-size="12" font-weight="700">2</text>
  </g>
  
  <!-- Arrow: Supabase to Email -->
  <path d="M610 315 L760 315" stroke="#fbbf24" stroke-width="2" fill="none" marker-end="url(#arrowRight)"/>
  <text x="685" y="305" fill="#fbbf24" font-size="8">Send Email</text>
  
  <!-- Email Box -->
  <g transform="translate(780, 375)" filter="url(#dropShadow)">
    <rect x="0" y="0" width="180" height="90" rx="10" fill="#0f172a" stroke="#f59e0b" stroke-width="2"/>
    <text x="90" y="22" text-anchor="middle" fill="#fbbf24" font-size="11" font-weight="600">Confirmation Email</text>
    <line x1="10" y1="32" x2="170" y2="32" stroke="#78350f" stroke-width="1"/>
    <rect x="15" y="42" width="150" height="40" rx="5" fill="#1c1917"/>
    <text x="90" y="58" text-anchor="middle" fill="#94a3b8" font-size="8">Click to confirm:</text>
    <text x="90" y="72" text-anchor="middle" fill="#60a5fa" font-size="7" text-decoration="underline">https://app.com/confirm?token=xyz</text>
  </g>
  
  <!-- Arrow: Email to User -->
  <path d="M780 420 L150 420" stroke="#fbbf24" stroke-width="2" fill="none" marker-end="url(#arrowLeft)"/>
  <text x="450" y="410" fill="#fbbf24" font-size="8">Email Delivered</text>
  
  <!-- Step 2.2: User clicks link -->
  <g transform="translate(40, 440)" filter="url(#dropShadow)">
    <circle cx="50" cy="25" r="20" fill="#2563eb" stroke="#60a5fa" stroke-width="2"/>
    <text x="50" y="30" text-anchor="middle" fill="#fff" font-size="14" font-weight="700">3</text>
  </g>
  <text x="90" y="495" text-anchor="middle" fill="#93c5fd" font-size="10">Clicks Link</text>
  
  <!-- Arrow: User clicks to Frontend -->
  <path d="M130 465 L190 465" stroke="#60a5fa" stroke-width="2" fill="none" marker-end="url(#arrowRight)"/>
  
  <!-- Frontend: Confirm page -->
  <g transform="translate(200, 440)" filter="url(#dropShadow)">
    <rect x="0" y="0" width="220" height="70" rx="10" fill="#0f172a" stroke="#0ea5e9" stroke-width="2"/>
    <text x="110" y="22" text-anchor="middle" fill="#38bdf8" font-size="11" font-weight="600">/auth/confirm Page</text>
    <line x1="10" y1="32" x2="210" y2="32" stroke="#1e3a5f" stroke-width="1"/>
    <text x="20" y="48" fill="#94a3b8" font-size="9">• Extract token from URL</text>
    <text x="20" y="62" fill="#94a3b8" font-size="9">• Call verifyOtp()</text>
  </g>
  
  <!-- Arrow: Frontend to Supabase verify -->
  <path d="M420 475 L460 475" stroke="#60a5fa" stroke-width="2" fill="none" marker-end="url(#arrowRight)"/>
  <text x="440" y="465" fill="#60a5fa" font-size="8">verifyOtp()</text>
  
  <!-- Supabase: Verify token -->
  <g transform="translate(500, 440)" filter="url(#dropShadow)">
    <rect x="0" y="0" width="220" height="70" rx="10" fill="#0f172a" stroke="#3ecf8e" stroke-width="2"/>
    <text x="110" y="22" text-anchor="middle" fill="#4ade80" font-size="11" font-weight="600">Verify Token</text>
    <line x1="10" y1="32" x2="210" y2="32" stroke="#1a3d2e" stroke-width="1"/>
    <text x="20" y="48" fill="#94a3b8" font-size="9">• Validate token not expired</text>
    <text x="20" y="62" fill="#94a3b8" font-size="9">• Mark email_confirmed = true</text>
  </g>
  
  <!-- Arrow: Update DB -->
  <path d="M720 475 L980 475" stroke="#4ade80" stroke-width="2" fill="none" marker-end="url(#arrowRight)"/>
  <text x="850" y="465" fill="#4ade80" font-size="8">UPDATE confirmed</text>
  
  <!-- DB: Updated user -->
  <g transform="translate(1000, 450)" filter="url(#dropShadow)">
    <rect x="0" y="0" width="150" height="50" rx="8" fill="#0f172a" stroke="#06b6d4" stroke-width="2"/>
    <text x="75" y="20" text-anchor="middle" fill="#22d3ee" font-size="10" font-weight="600">auth.users</text>
    <text x="75" y="38" text-anchor="middle" fill="#4ade80" font-size="9">✓ email_confirmed</text>
  </g>
  
  <!-- ============ PHASE 3: LOGIN ============ -->
  
  <!-- Step 3.1: User enters credentials -->
  <g transform="translate(40, 590)" filter="url(#dropShadow)">
    <circle cx="50" cy="25" r="20" fill="#059669" stroke="#34d399" stroke-width="2"/>
    <text x="50" y="30" text-anchor="middle" fill="#fff" font-size="14" font-weight="700">4</text>
  </g>
  <text x="90" y="645" text-anchor="middle" fill="#6ee7b7" font-size="10">Login</text>
  
  <!-- Arrow: User to Login form -->
  <path d="M130 615 L190 615" stroke="#60a5fa" stroke-width="2" fill="none" marker-end="url(#arrowRight)"/>
  
  <!-- Login Form -->
  <g transform="translate(200, 580)" filter="url(#dropShadow)">
    <rect x="0" y="0" width="220" height="80" rx="10" fill="#0f172a" stroke="#0ea5e9" stroke-width="2"/>
    <text x="110" y="22" text-anchor="middle" fill="#38bdf8" font-size="11" font-weight="600">Login Form</text>
    <line x1="10" y1="32" x2="210" y2="32" stroke="#1e3a5f" stroke-width="1"/>
    <text x="20" y="50" fill="#94a3b8" font-size="9">• Email</text>
    <text x="20" y="64" fill="#94a3b8" font-size="9">• Password</text>
    <rect x="130" y="42" width="80" height="28" rx="5" fill="#059669"/>
    <text x="170" y="60" text-anchor="middle" fill="#fff" font-size="9" font-weight="600">Sign In</text>
  </g>
  
  <!-- Arrow: Frontend to Supabase auth -->
  <path d="M420 620 L460 620" stroke="#60a5fa" stroke-width="2" fill="none" marker-end="url(#arrowRight)"/>
  <text x="440" y="610" fill="#60a5fa" font-size="8">signIn()</text>
  
  <!-- Supabase: Authenticate -->
  <g transform="translate(500, 580)" filter="url(#dropShadow)">
    <rect x="0" y="0" width="220" height="80" rx="10" fill="#0f172a" stroke="#3ecf8e" stroke-width="2"/>
    <text x="110" y="22" text-anchor="middle" fill="#4ade80" font-size="11" font-weight="600">Authenticate User</text>
    <line x1="10" y1="32" x2="210" y2="32" stroke="#1a3d2e" stroke-width="1"/>
    <text x="20" y="50" fill="#94a3b8" font-size="9">• Verify credentials</text>
    <text x="20" y="64" fill="#94a3b8" font-size="9">• Generate JWT tokens</text>
    <text x="20" y="78" fill="#94a3b8" font-size="9">• Create session record</text>
  </g>
  
  <!-- Arrow: Query DB -->
  <path d="M720 620 L980 620" stroke="#4ade80" stroke-width="2" fill="none" marker-end="url(#arrowRight)"/>
  <text x="850" y="610" fill="#4ade80" font-size="8">SELECT + verify</text>
  
  <!-- DB: Sessions -->
  <g transform="translate(1000, 590)" filter="url(#dropShadow)">
    <rect x="0" y="0" width="150" height="60" rx="8" fill="#0f172a" stroke="#06b6d4" stroke-width="2"/>
    <text x="75" y="20" text-anchor="middle" fill="#22d3ee" font-size="10" font-weight="600">auth.sessions</text>
    <line x1="10" y1="30" x2="140" y2="30" stroke="#164e63" stroke-width="1"/>
    <text x="15" y="45" fill="#94a3b8" font-size="8">user_id, token, expires</text>
  </g>
  
  <!-- Arrow: Return tokens to Frontend -->
  <path d="M500 670 L200 670 Q180 670 180 690 L180 710" stroke="#4ade80" stroke-width="2" fill="none" stroke-dasharray="6,3" marker-end="url(#arrowDown)"/>
  <text x="340" y="685" fill="#4ade80" font-size="8">JWT Access + Refresh Tokens</text>
  
  <!-- ============ PHASE 4: SESSION MANAGEMENT ============ -->
  
  <!-- Frontend: Store tokens -->
  <g transform="translate(200, 720)" filter="url(#dropShadow)">
    <rect x="0" y="0" width="220" height="90" rx="10" fill="#0f172a" stroke="#0ea5e9" stroke-width="2"/>
    <text x="110" y="22" text-anchor="middle" fill="#38bdf8" font-size="11" font-weight="600">Session Storage</text>
    <line x1="10" y1="32" x2="210" y2="32" stroke="#1e3a5f" stroke-width="1"/>
    <text x="20" y="50" fill="#94a3b8" font-size="9">• Store tokens in cookies</text>
    <text x="20" y="64" fill="#94a3b8" font-size="9">• Set httpOnly, secure flags</text>
    <text x="20" y="78" fill="#94a3b8" font-size="9">• Auto-refresh before expiry</text>
  </g>
  
  <!-- Step 4: Authenticated -->
  <g transform="translate(40, 760)" filter="url(#dropShadow)">
    <circle cx="50" cy="25" r="20" fill="#dc2626" stroke="#f87171" stroke-width="2"/>
    <text x="50" y="30" text-anchor="middle" fill="#fff" font-size="14" font-weight="700">5</text>
  </g>
  <text x="90" y="815" text-anchor="middle" fill="#fca5a5" font-size="10">Authenticated!</text>
  
  <!-- Arrow: Redirect user -->
  <path d="M200 765 L130 765" stroke="#a78bfa" stroke-width="2" fill="none" stroke-dasharray="6,3" marker-end="url(#arrowLeft)"/>
  <text x="165" y="755" fill="#a78bfa" font-size="8">Redirect</text>
  
  <!-- Supabase: Session refresh -->
  <g transform="translate(500, 720)" filter="url(#dropShadow)">
    <rect x="0" y="0" width="220" height="90" rx="10" fill="#0f172a" stroke="#3ecf8e" stroke-width="2"/>
    <text x="110" y="22" text-anchor="middle" fill="#4ade80" font-size="11" font-weight="600">Session Management</text>
    <line x1="10" y1="32" x2="210" y2="32" stroke="#1a3d2e" stroke-width="1"/>
    <text x="20" y="50" fill="#94a3b8" font-size="9">• Validate JWT on requests</text>
    <text x="20" y="64" fill="#94a3b8" font-size="9">• Refresh tokens automatically</text>
    <text x="20" y="78" fill="#94a3b8" font-size="9">• Invalidate on logout</text>
  </g>
  
  <!-- Bidirectional arrow: Frontend <-> Supabase -->
  <path d="M420 765 L460 765" stroke="#60a5fa" stroke-width="2" fill="none" marker-end="url(#arrowRight)"/>
  <path d="M460 780 L420 780" stroke="#4ade80" stroke-width="2" fill="none" stroke-dasharray="5,3" marker-end="url(#arrowLeft)"/>
  <text x="440" y="758" fill="#60a5fa" font-size="7">API calls</text>
  <text x="440" y="795" fill="#4ade80" font-size="7">Auth state</text>
  
  <!-- Dashboard access indicator -->
  <g transform="translate(40, 830)" filter="url(#dropShadow)">
    <rect x="0" y="0" width="100" height="40" rx="8" fill="#059669"/>
    <text x="50" y="18" text-anchor="middle" fill="#fff" font-size="9" font-weight="600">Dashboard</text>
    <text x="50" y="32" text-anchor="middle" fill="#d1fae5" font-size="8">Access Granted</text>
  </g>
  
  <!-- ============ LEGEND ============ -->
  <g transform="translate(1220, 820)">
    <rect x="0" y="0" width="160" height="60" rx="8" fill="#0f172a" stroke="#334155" stroke-width="1"/>
    <text x="80" y="18" text-anchor="middle" fill="#f8fafc" font-size="10" font-weight="600">LEGEND</text>
    <line x1="10" y1="25" x2="150" y2="25" stroke="#334155" stroke-width="1"/>
    
    <line x1="15" y1="40" x2="45" y2="40" stroke="#60a5fa" stroke-width="2"/>
    <text x="55" y="44" fill="#94a3b8" font-size="8">Request</text>
    
    <line x1="95" y1="40" x2="125" y2="40" stroke="#4ade80" stroke-width="2" stroke-dasharray="5,3"/>
    <text x="135" y="44" fill="#94a3b8" font-size="8">Response</text>
  </g>
  
</svg>
